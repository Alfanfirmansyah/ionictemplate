<!--
  Generated template for the FormEditPlanPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Form Edit Activity Plan</ion-title>
  </ion-navbar>
</ion-header>

<ion-content >
    <ion-grid>
     <ion-row>
       <ion-col col-12>
          <form [formGroup]="FormEditData" (ngSubmit)="simpan()" *ngFor="let Data of Data_Plan">
              <ion-item *ngIf="userDetails.project_to_pm == ''">
                
                  <ion-label color="dark">Choose Project</ion-label>
                  <ion-select [(ngModel)]="selectedMaschine" formControlName="maschine" multiple="false">
                      <ion-option *ngFor="let row of Data_Project,let idx = index" [value]="row.id" selected="{{(idx==0).toString()}}">{{row.name}}</ion-option>
                  </ion-select>
              </ion-item>
            <ion-input *ngIf="userDetails.project_to_pm != ''" type="hidden" formControlName="maschine" [value]="userDetails.project_to_pm"></ion-input>
              <ion-item>
                <ion-label color="dark">Tanggal Kegiatan Awal</ion-label>
                <ion-icon name="calendar" item-end></ion-icon>
                <ion-datetime [(ngModel)]="tglawal" displayFormat="DD-MM-YYYY" pickerFormat="DD-MM-YYYY"  formControlName="tglstart"></ion-datetime>
              </ion-item>
              <ion-item>
                <ion-label color="dark">Tanggal Kegiatan Akhir</ion-label>
                <ion-icon name="calendar" item-end></ion-icon>
                <ion-datetime [(ngModel)]="tglakhir" displayFormat="DD-MM-YYYY" pickerFormat="DD-MM-YYYY" formControlName="tglakhir"></ion-datetime>
              </ion-item>
                  <ion-item>                                    
                      <ion-label color="dark" floating>Masukkan Aktivitas</ion-label>
                      <ion-input type="text" formControlName="aktivitas" [value]="Data.name"></ion-input>                   
                  </ion-item>       
                  <ion-item>
                      <ion-label color="dark" floating>Masukkan Deskripsi Aktivitas</ion-label>
                      <ion-textarea formControlName="deskripsi" [value]="Data.description"
                           autocomplete="on" autocorrect="on"></ion-textarea>
                     </ion-item>
                     <ion-item>
                      <ion-label color="dark" floating>Masukkan Catatan</ion-label>
                      <ion-textarea formControlName="catatan" [value]="Data.note"
                           autocomplete="on" autocorrect="on"></ion-textarea>
                     </ion-item>
                  <ion-item>
                    <ion-label color="dark">Pic</ion-label>
                    <ion-select [(ngModel)]="picd" formControlName="pic" interface="action-sheet">
                      <ion-option *ngFor="let user of Data_User,let idx = index" [value]="user.id" selected="{{(idx==0).toString()}}">{{user.name}} / {{user.position}}</ion-option>
                    </ion-select>
                </ion-item>
                <ion-item>
                  <ion-label color="dark">Status Level Aktivitas</ion-label>
                  <ion-select [(ngModel)]="laktivitasd" formControlName="laktivitas" interface="action-sheet">
                      <ion-option selected value="normal" selected="laktivitasd">Normal</ion-option>
                      <ion-option selected value="urgent" selected="laktivitasd">Urgent</ion-option>
                  </ion-select>
              </ion-item> 
                    <ion-input type="hidden"formControlName="id_plan" [value]="Data.id"></ion-input>
              <ion-item>
                <button ion-button full type="submit" color="primary" [disabled]="!FormEditData.valid">Simpan</button>
              </ion-item>    
          </form>
       </ion-col>
     </ion-row>
    </ion-grid>
  </ion-content>

